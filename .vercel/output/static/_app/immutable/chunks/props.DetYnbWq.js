import{i as T,H as q,j as D,k as A,l as g,o as h,E as L,q as N,v as O,L as y,P as U,u as Y,w as b,x as k,g as o,y as x,z,s as B,A as C,B as F,m as H}from"./runtime.Ms2GRJJy.js";import{h as M,b as p,d as j}from"./disclose-version.CnmLYbxe.js";function V(n,i,f,l=null,c=!1){var r=null,t=null,a=null,u=c?L:0;T(()=>{if(a===(a=!!i()))return;let s=!1;if(M){const _=n.data===q;a===_&&(D(j),p(!1),s=!0)}a?(r?A(r):r=g(()=>f(n)),t&&h(t,()=>{t=null})):(t?A(t):l&&(t=g(()=>l(n))),r&&h(r,()=>{r=null})),s&&p(!0)},u)}function Z(n,i,f,l){var R;var c=(f&C)!==0,r=(f&U)!==0,t=(f&F)!==0,a=n[i],u=(R=N(n,i))==null?void 0:R.set,s=l,_=!0,S=()=>(t&&_&&(_=!1,s=Y(l)),s);a===void 0&&l!==void 0&&(u&&r&&O(),a=S(),u&&u(a));var v;if(r)v=()=>{var e=n[i];return e===void 0?S():(_=!0,e)};else{var I=(c?b:k)(()=>n[i]);I.f|=y,v=()=>{var e=o(I);return e!==void 0&&(s=void 0),e===void 0?s:e}}if(!(f&x))return v;if(u)return function(e){return arguments.length===1?(u(e),e):v()};var m=!1,E=H(a),d=b(()=>{var e=v(),P=o(E);return m?(m=!1,P):E.v=e});return c||(d.equals=z),function(e){var P=o(d);return arguments.length>0?(d.equals(e)||(m=!0,B(E,e),o(d),d.version++),e):P}}export{V as i,Z as p};
